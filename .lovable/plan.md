

# Fix Build Errors in tenantAssets.ts

## Problem Identified
The `tenant_assets` table was created in migration `20260130000000_tenant_assets.sql`, but the **Supabase TypeScript types** (`src/integrations/supabase/types.ts`) haven't been regenerated to include this new table.

This causes TypeScript errors because:
- The Supabase client's `.from('tenant_assets')` returns type `never` since `tenant_assets` isn't in the types definition
- All subsequent operations fail type checking

## Root Cause
The types file is auto-generated by Supabase and represents the current database schema. When new tables are added via migrations, the types need to be regenerated. Since we cannot edit `types.ts` directly (it's auto-generated), we need to work around the TypeScript limitations.

## Solution
Use explicit type casting in the `tenantAssets.ts` service to bypass TypeScript's strict checking. This is a common pattern when working with tables that exist in the database but aren't yet reflected in the generated types.

### Changes to `src/services/tenantAssets.ts`

1. **Cast table queries using `as any`** to bypass the type system
2. **Keep the explicit `TenantAssets` interface** to maintain type safety for the return values
3. **Use explicit return type casting** to ensure the service returns properly typed data

**Before:**
```typescript
const { data, error } = await supabase
    .from('tenant_assets')  // TS Error: 'tenant_assets' not in types
    .select('*')
    .single();
```

**After:**
```typescript
const { data, error } = await (supabase
    .from('tenant_assets' as any) as any)
    .select('*')
    .single();
```

## Files to Modify

| File | Change |
|------|--------|
| `src/services/tenantAssets.ts` | Add type casts to all Supabase table operations |

## Additional Note: Default Language Migration
The user also provided a migration for adding `default_language` to tenants table. This migration (`20260201000001_add_default_language.sql`) appears to already exist in the migrations folder based on the listing. If it needs to be created/updated, that will be handled separately.

## Expected Outcome
- Build errors will be resolved
- The tenant assets functionality will work correctly at runtime (since the table exists in the database)
- When types are eventually regenerated, the `as any` casts can be safely removed

## Technical Note
This is a temporary workaround. Once the Supabase types are regenerated (which happens automatically when migrations are applied), the `tenant_assets` table will appear in `types.ts` and these casts can be removed for cleaner type safety.

